# =============================================================================
# CONTINUATION METHOD PARAMETERS FOR CONVERGENCE
# =============================================================================

continuation:
  wall_temperature_stable: 3000
  edge_temperature_stable: 5905.5
  pressure_stable: 7000
  use_linear_predictor: true

# =============================================================================
# GASP2 CONFIGURATION
# =============================================================================

gasp2:
  xml_file: "CO2_5_gamma.xml"
  reaction_type: "gamma"

# =============================================================================
# BASE MODE
# =============================================================================

base:
  enabled: true
  
  simulation:
    body_type: axisymmetric # axisymmetric or cone or 2D or flatplate
    only_stagnation_point: true
    finite_thickness: false
    diffusion_type: stefan_maxwell
    consider_thermal_diffusion: false
    consider_dufour_effect: false
    chemical_mode: "non_equilibrium"  # "frozen", "equilibrium", "non_equilibrium"
    catalytic_wall: true
    wall_mode: "imposed_temperature"  # "adiabatic", "imposed_temperature", "radiative"
    catalysis_provider: "mutation++"  # "mutation++" or "gasp2"

  numerical:
    n_eta: 100
    eta_max: 6.0
    convergence_tolerance: 1.0e-9
    max_iterations: 50000

  mixture:
    name: CO2_5
    thermodynamic_database: RRHO  
    viscosity_algorithm: chapman_enskog_ldlt  
    thermal_conductivity_algorithm: chapman_enskog_ldlt 
    state_model: ChemNonEq1T 

  output:
    output_directory: outputs_simulation

  outer_edge:
    edge_points:
      - x: 0.0
        radius: 1
        velocity: 0
        temperature: 5905.5
        pressure: 7000
        boundary_override: 
          enabled: false
          mass_fraction_condition: [2.746334e-05, 5.391048e-01, 8.388689e-05, 4.190457e-01, 4.173816e-02]
    
    velocity_gradient_stagnation: 4027.1213622326
    freestream_density: 0.0019382429
    freestream_velocity: 500000
    
    finite_thickness_params:
      v_edge: -111.31796000
      d2_ue_dxdy: -290979.9698604651
      delta_bl: 0.0105250000

  wall_parameters:
    temperatures: [1000]
    emissivity: 0  # Only used when wall_mode is "radiative"
    environment_temperature: 300  # Only used when wall_mode is "radiative"

# =============================================================================
# EDGE RECONSTRUCTION MODE
# =============================================================================

edge_reconstruction:
  enabled: false
  
  simulation:
    body_type: axisymmetric
    finite_thickness: true
    diffusion_type: stefan_maxwell 
    consider_thermal_diffusion: false
    consider_dufour_effect: false
  
  numerical:
    n_eta: 20
    eta_max: 6.0
    convergence_tolerance: 1.0e-6  
    max_iterations: 100000  
  
  mixture:
    name: CO2_5
    thermodynamic_database: RRHO  # "RRHO", "NASA9"
    viscosity_algorithm: chapman_enskog_ldlt
    thermal_conductivity_algorithm: chapman_enskog_ldlt 
  
  output:
    output_directory: test_outputs_edge_reconstruction
  
  # Edge reconstruction specific parameters
  target_heat_flux: 900000
  
  boundary_conditions:
    pressure: 7000
    wall_temperature: 3000
    catalyticity: 0.1
    radius: 1
  
  flow_parameters:
    velocity_gradient_stagnation: 4027.1213622326
    freestream_density: 0.0019382429
    freestream_velocity: 500000
  
  finite_thickness_params:
    v_edge: -111.31796000
    d2_ue_dxdy: -290979.9698604651
    delta_bl: 0.0105250000
  
  solver:
    initial_temperature_guess: 5200
    temperature_min: 5000
    temperature_max: 6000
    tolerance: 1e-3
    max_iterations: 50

# =============================================================================
# ABACUS MODE
# =============================================================================

abacus:
  enabled: false
  # Choose one:
  #   - temperature_sweep: q_wall(Tw) for each γ over a Tw range (current default)
  #   - gamma_sweep_at_Tw: q_wall(γ) at a fixed wall temperature Tw
  mode: temperature_sweep
  temperature_sweep:
    range: [1000, 2000]
    points: 11
  gamma_sweep:
    wall_temperature: [3500, 3700, 4000]
  # catalyticity_values: [0.0, 0.001, 0.002, 0.003, 0.004, 0.005, 0.006, 0.007, 0.008, 0.009, 0.01, 0.015, 0.02, 0.025, 0.03, 0.035, 0.04, 0.045, 0.05, 0.06, 0.07, 0.08, 0.09, 0.1, 0.15, 0.2, 0.25, 0.3, 0.35, 0.4, 0.45, 0.5, 1]
  catalyticity_values: [0, 0.001, 0.01, 0.1, 1]
  simulation:
    body_type: axisymmetric
    finite_thickness: false
    diffusion_type: stefan_maxwell
    consider_thermal_diffusion: false
    consider_dufour_effect: false
  
  numerical:
    n_eta: 20
    eta_max: 6.0
    convergence_tolerance: 1.0e-9
    max_iterations: 100000
  
  mixture:
    name: CO2_5
    thermodynamic_database: RRHO  # "RRHO", "NASA9"
    viscosity_algorithm: chapman_enskog_ldlt 
    thermal_conductivity_algorithm: chapman_enskog_ldlt 
  
  output:
    output_directory: outputs_abacus
  
  boundary_conditions:
    pressure: 7000 
    temperature: 5905.5  
    radius: 1.0 
    velocity: 0.0
  
  flow_parameters:
    velocity_gradient_stagnation: 4027.1213622326
    freestream_density: 0.0019382429
    freestream_velocity: 500000
  
